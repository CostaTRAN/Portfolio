<!DOCTYPE html>
<html lang="fr" vocab="http://schema.org/" typeof="WebPage" xmlns="http://www.w3.org/1999/xhtml">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>CV de Costa TRAN</title>
   <!-- Styles CSS -->
   <link rel="stylesheet" href="styles.css">
   <!-- Balise alternate pour SEO -->
   <link rel="alternate" hreflang="en" href="index.html?lang=en">
   <link rel="alternate" hreflang="fr" href="index.html?lang=fr">
   <link rel="alternate" hreflang="ja" href="index.html?lang=ja">
</head>
<body id="body-content" vocab="http://xmlns.com/foaf/0.1/" typeof="foaf:Person" about="#me">
   <header vocab="http://purl.org/dc/elements/1.1/">
      <h1 id="title" property="dc:title">CV de Costa TRAN</h1>
      <nav>
         <a href="index.html">Retour à l'accueil</a>
      </nav>
      <!-- Sélecteur de langue -->
      <div>
         <a href="?lang=fr"><img src="./img/fr-flag.png" alt="Français"></a>
         <a href="?lang=en"><img src="./img/en-flag.png" alt="English"></a>
         <a href="?lang=ja"><img src="./img/ja-flag.png" alt="日本語"></a>
      </div>
   </header>
   <main id="cv-content">
      <section>
         <h2>Informations personnelles</h2>
         <p>
            <strong>Nom : </strong><span property="foaf:name">Costa TRAN</span>
         </p>
         <p>
            <strong>Adresse : </strong><span property="foaf:based_near">123 Rue Exemple, 75000 Paris, France</span>
         </p>
         <p>
            <strong>Téléphone : </strong><span property="foaf:phone">+33 1 23 45 67 89</span>
         </p>
         <p>
            <strong>Email : </strong><span property="foaf:mbox">costa.tran@hotmail.com</span>
         </p>
         <p>
            <strong>Site Web : </strong>
            <span property="foaf:homepage">
               <a href="https://costa-tran.netlify.app/">
                  https://costa-tran.netlify.app/
               </a>
            </span>
         </p>
         <p>
            <strong>Liens : </strong>
            <span property="foaf:workplaceHomepage">
               <a href="https://github.com/CostaTRAN">
                  https://github.com/CostaTRAN
               </a>
            </span>
         </p>
      </section>
      <section>
         <h2>Expériences professionnelles</h2>
         <ul>
            <li>
               <h3>2022 - 2025</h3>
               <ul>
                  <li>
                     <p>
                        <strong>Rôle : </strong> Apprenti ingénieur logiciel
                     </p>
                  </li>
                  <li>
                     <p>
                        <strong>Entreprise : </strong><span property="foaf:works_for">Forvia</span>
                     </p>
                  </li>
                  <li>
                     <p>
                        <strong>Lieu : </strong><span property="foaf:based_near">Paris, France</span>
                     </p>
                  </li>
                  <li>
                     <p property="foaf:description">
                        <strong>Description de la mission : </strong>Développement d'un outil de test pour la stack Bluetooth.
                     </p>
                  </li>
               </ul>
            </li>
         </ul>
      </section>
      <section>
         <h2>Formations</h2>
         <ul>
            <li>
               <h3>2022 - 2025</h3>
               <ul>
                  <li>
                     <p>
                        <strong>Diplôme d'Ingénieur Informatique</strong>
                     </p>
                  </li>
                  <li>
                     <p>
                        <strong>Institution : </strong><span property="foaf:schoolHomepage">Sup Galilée</span>
                     </p>
                  </li>
               </ul>
            </li>
            <li>
               <h3>2020 - 2022</h3>
               <ul>
                  <li>
                     <p>
                        <strong>Diplôme Universitaire Technologique Informatique (DUT)</strong>
                     </p>
                  </li>
                  <li>
                     <p>
                        <strong>Institution : </strong><span property="foaf:schoolHomepage">Institut Universitaire Technologique de Villetaneuse (IUT)</span>
                     </p>
                  </li>
               </ul>
            </li>
            <li>
               <h3>2018 - 2020</h3>
               <ul>
                  <li>
                     <p>
                        <strong>Baccalauréat Général Scientifique</strong>
                     </p>
                  </li>
                  <li>
                     <p>
                        <strong>Institution : </strong><span property="foaf:schoolHomepage">Lycée La Salle - Saint Rosaire</span>
                     </p>
                  </li>
               </ul>
            </li>
         </ul>
      </section>
      <section>
         <h2>Compétences</h2>
         <ul>
            <li property="foaf:skill">HTML</li>
            <li property="foaf:skill">CSS</li>
            <li property="foaf:skill">JavaScript</li>
            <li property="foaf:skill">C++</li>
            <li property="foaf:skill">XML</li>
            <li property="foaf:skill">JSON</li>
            <li property="foaf:skill">MySQL</li>
         </ul>
      </section>
      <section>
         <h2>Langues</h2>
         <ul>
            <li>
               <strong>Français: </strong><span property="foaf:language" content="fr">Natif</span>
            </li>
            <li>
               <strong>Anglais: </strong><span property="foaf:language" content="en">B1</span>
            </li>
            <li>
               <strong>Japonais: </strong><span property="foaf:language" content="ja">Débutant</span>
            </li>
         </ul>
      </section>
   </main>
   <footer>
      <p id="copyright">&#169; 2024 Costa TRAN. Tous droits réservés.</p>
   </footer>

   <script>
      document.addEventListener("DOMContentLoaded", function () {

         function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
         }

         function getLanguage() {
            let lang = getQueryParam('lang');
            if (lang) return lang;

            lang = sessionStorage.getItem('lang');
            if (lang) return lang;

            lang = navigator.language.split('-')[0];
            if (['en', 'fr', 'ja'].includes(lang)) return lang;

            return 'fr';
         }

         const lang = getLanguage();
         sessionStorage.setItem('lang', lang);
         // URL du fichier XML et XSL
         const xmlFile = `./${lang}/cv.xml`;
         const xslFile = `./${lang}/cv.xsl`;

         function transformXMLtoHTML(xmlString, xslString) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlString, "text/xml");
            const xslDoc = parser.parseFromString(xslString, "text/xml");

            const xsltProcessor = new XSLTProcessor();
            xsltProcessor.importStylesheet(xslDoc);

            const resultFragment = xsltProcessor.transformToFragment(xmlDoc, document);

            const tempDiv = document.createElement('div');
            tempDiv.appendChild(resultFragment);

            return tempDiv.innerHTML;
         }

         // Charger le contenu des fichiers XML et XSL
         fetch(xmlFile)
            .then(response => response.text())
            .then(xmlString => {
               fetch(xslFile)
                  .then(response => response.text())
                  .then(xslString => {
                     // Appeler la fonction transformXMLtoHTML avec les contenus des fichiers XML et XSL
                     const transformedHTML = transformXMLtoHTML(xmlString, xslString);
                     document.body.innerHTML = transformedHTML; // Injection dans le corps du document
                  })
                  .catch(error => console.error('Error loading XSL file:', error));
            })
            .catch(error => console.error('Error loading XML file:', error));
      });
   </script>
</body>
</html>